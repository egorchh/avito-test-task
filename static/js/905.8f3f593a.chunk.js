"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[905],{4250:function(e,t,n){n.d(t,{Z:function(){return c}});n(2791);var r=n.p+"static/media/refresh.8af170e78212903462f8865a1087397c.svg",s=n(184),c=function(e){var t=e.refreshHandler;return(0,s.jsx)("button",{className:"refresh-button",onClick:t,children:(0,s.jsx)("img",{className:"refresh-button__img",src:r,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"})})}},926:function(e,t,n){n.d(t,{o:function(){return N}});var r={};n.r(r),n.d(r,{fetchOnePost:function(){return _},fetchPosts:function(){return x}});var s={};n.r(s),n.d(s,{fetchComments:function(){return w}});var c=n(9434),a=n(7781),i=n(8683),u=n(4165),o=n(5861),p=n(1044),f="https://hacker-news.firebaseio.com/v0/",l="".concat(f,"newstories.json"),d="".concat(f,"item/"),h=function(){var e=(0,o.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get("".concat(d+t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get(l);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=n(6005),x=function(){return function(){var e=(0,o.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v.J.FETCH_POSTS}),e.next=4,m();case 4:return n=e.sent,e.next=7,Promise.all(n.slice(0,100).map((function(e){return h(e)})));case 7:r=e.sent,t({type:v.J.FETCH_POSTS_SUCCESS,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:v.J.FETCH_POSTS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=(0,o.Z)((0,u.Z)().mark((function t(n){var r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:v.J.FETCH_ONE_POST}),t.next=4,h(e);case 4:r=t.sent,n({type:v.J.FETCH_ONE_POST_SUCCESS,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:v.J.FETCH_ONE_POST_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u043e\u0439 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Z=n(9898),j=n(530),w=function(e){return function(){var t=(0,o.Z)((0,u.Z)().mark((function t(n){var r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:j.z.FETCH_COMMENTS}),t.next=4,Promise.all(e.map((function(e){return(0,Z.d7)(e)})));case 4:r=t.sent,n({type:j.z.FETCH_COMMENTS_SUCCESS,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:j.z.FETCH_COMMENTS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},y=(0,i.Z)((0,i.Z)({},r),s),N=function(){var e=(0,c.I0)();return(0,a.DE)(y,e)}},1573:function(e,t,n){n.d(t,{i:function(){return r}});var r=n(9434).v9},1905:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(2791),s=n(1573),c=n(926),a=n(1523),i=n(1733);var u=n.p+"static/media/like.103af92c36113ea479cbb44729e0a088.svg",o=n(184),p=function(e){var t=e.title,n=e.score,r=e.by,s=e.time;return(0,o.jsxs)("li",{className:"posts-item",children:[(0,o.jsxs)("div",{className:"posts-item__headline-wrapper",children:[(0,o.jsx)("h3",{className:"posts-item__title",children:t}),(0,o.jsxs)("div",{className:"posts-item__score-wrapper",children:[(0,o.jsx)("p",{className:"posts-item__score-value",children:n}),(0,o.jsx)("img",{className:"posts-item__score-img",src:u,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043b\u0430\u0439\u043a\u0430"})]})]}),(0,o.jsxs)("div",{className:"posts-item__descr-wrapper",children:[(0,o.jsx)("p",{className:"posts-item__descr-author",children:r}),(0,o.jsx)("p",{className:"posts-item__descr-date",children:(0,i.Y)(s)})]})]})},f=n(7550),l=n(6486),d=function(){var e=(0,s.i)((function(e){return e.posts})),t=e.posts,n=e.loading,i=e.error,u=(0,c.o)().fetchPosts;(0,r.useEffect)((function(){u()}),[]);return i?(0,o.jsx)(l.Z,{}):(0,o.jsx)("div",{className:"posts",children:n?(0,o.jsx)(f.Z,{size:150}):function(){var e=t.map((function(e){var t=e.id,n=e.title,r=e.score,s=e.by,c=e.time;return(0,o.jsx)(a.rU,{className:"posts-link",to:"/posts/".concat(t),children:(0,o.jsx)(p,{title:n,score:r,by:s,time:c})},t)}));return(0,o.jsx)("ul",{className:"posts-list",children:e})}()})},h=n(4270),m=n(4250),v=function(){var e=(0,c.o)().fetchPosts;return(0,o.jsxs)("div",{className:"main-page",children:[(0,o.jsxs)(h.q,{children:[(0,o.jsx)("meta",{name:"description",content:"Hacker News"}),(0,o.jsx)("title",{children:"Hacker News"})]}),(0,o.jsxs)("div",{className:"headline",children:[(0,o.jsx)("h1",{className:"headline-title",children:"Hacker News:"}),(0,o.jsx)(m.Z,{refreshHandler:function(){e()}})]}),(0,o.jsx)(d,{})]})}},9898:function(e,t,n){n.d(t,{d7:function(){return i},gO:function(){return u}});var r=n(4165),s=n(5861),c=n(1044),a="".concat("https://hacker-news.firebaseio.com/v0/","item/"),i=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("".concat(a+t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function u(e){return o.apply(this,arguments)}function o(){return(o=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return i(e)})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1733:function(e,t,n){function r(e){var t=new Date(1e3*e),n=[t.getMonth(),t.getDate(),t.getFullYear()],r=n[0],c=n[1],a=n[2],i=[t.getHours(),t.getMinutes(),t.getSeconds()],u=i[1];return"".concat(s(i[0]),":").concat(s(u)," ").concat(s(c),"/").concat(s(r),"/").concat(a)}function s(e){return e>=0&&e<=9?"0".concat(e):"".concat(e)}n.d(t,{Y:function(){return r}})}}]);
//# sourceMappingURL=905.8f3f593a.chunk.js.map